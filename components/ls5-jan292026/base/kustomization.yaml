apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
commonLabels:
  argocd/app-name: ls5-jan292026
  janus-idp.io/tekton: ls5-jan292026
  backstage.io/kubernetes-id: ls5-jan292026
  backstage.io/kubernetes-namespace: hello
  app.kubernetes.io/part-of: ls5-jan292026
resources:
  - initialize-namespace/
  # RBAC for MCP Server
  - rbac-mcp-server.yaml
  # ConfigMaps (run.yaml and ingestion-config.yaml are baked into images)
  - configmap-app.yaml
  - configmap-llama-stack-env.yaml
  # NOTE: Secrets are user-managed - see TechDocs for example
  # Llama Stack Server
  - deployment-llama-stack.yaml
  - service-llama-stack.yaml
  # Kubernetes MCP Server
  - deployment-mcp-server.yaml
  - service-mcp-server.yaml
  # Main Streamlit Application
  - deployment.yaml
  - service.yaml
  - route.yaml
  # Ollama Server (for inference and/or safety shields)
  - deployment-ollama.yaml
  - service-ollama.yaml
  - pvc-ollama.yaml

